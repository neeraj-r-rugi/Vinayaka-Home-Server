<!-- 
Vinayaka Home Server: A Secure local file server with HTTPS, password hashing & network access. Perfect for students accessing files across devices on trusted networks. 
Copyright (C) 2024 NEERAJ R RUGI

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vinayaka Home Server</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='index_style.css') }}"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="particles" id="particles"></div>
    
    <div class="main-content">
      <span id="login-heading">
        <h1>VINAYAKA HOME SERVER</h1>
      </span>
      
      <div class="password-form">
        <h2>Secure Access Portal</h2>
        <form method="POST" class="form" id="loginForm">
          <label for="entry">Authorization Key Required</label>
          <input 
            type="password" 
            name="password" 
            required 
            id="entry" 
            placeholder="Enter access credentials..."
            autocomplete="current-password"
          />
          <input type="submit" value="Initialize Access" id="submit" />
        </form>
        {% if error %}
        <p class="error">{{ error }}</p>
        {% endif %}
      </div>
    </div>

    <footer>
      <p>
        &copy; 2024 Vinayaka Home Server. Developed by Neeraj R Rugi. |
        <a href="https://github.com/neeraj-r-rugi" target="_blank" rel="noopener">
          GitHub Profile
        </a>
      </p>
    </footer>

    <script>
      function createParticles() {
        const particlesContainer = document.getElementById('particles');
        const particleCount = 50;
        
        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement('div');
          particle.className = 'particle';
          particle.style.left = Math.random() * 100 + '%';
          particle.style.animationDelay = Math.random() * 15 + 's';
          particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
          particlesContainer.appendChild(particle);
        }
      }
      document.getElementById('loginForm').addEventListener('submit', function() {
        document.body.classList.add('loading');
      });

      const passwordInput = document.getElementById('entry');
      passwordInput.addEventListener('focus', function() {
        this.parentElement.classList.add('focused');
      });
      
      passwordInput.addEventListener('blur', function() {
        this.parentElement.classList.remove('focused');
      });

      document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'l') {
          e.preventDefault();
          passwordInput.focus();
        }
      });

      window.addEventListener('load', createParticles);

      passwordInput.addEventListener('keydown', function() {
        this.style.transform = 'scale(1.02)';
        setTimeout(() => {
          this.style.transform = 'scale(1)';
        }, 100);
      });
    </script>
  </body>
</html>